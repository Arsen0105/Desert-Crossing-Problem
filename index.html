<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Задача пересечения пустыни</title>
	<script>
		function solution() {
			document.getElementById("answer").innerHTML = "";

			let s = document.getElementById("s").value;
			let l = document.getElementById("l").value;
			let v = document.getElementById("v").value;

			if (!isFinite(s) || !isFinite(l) || !isFinite(v) || s == "" || l == "" || v == "") {
				document.getElementById("answer").innerHTML = "Вы долбоёб. Где числа?!";
				return;
			}

			document.getElementById("st").innerHTML = s;
			document.getElementById("lt").innerHTML = l;
			document.getElementById("vt").innerHTML = v;

			let max_car = v / l;
			let n = 1
			let bank = 0

			while (bank + max_car < s) {
				bank += 1 / (1 + 2 * n) * max_car;
    			n += 1;
			}

			document.getElementById("answer").innerHTML = "Ответ на задачу:  " + n;
		}
	</script>
	<style type="text/css">
		body {
			padding: 5px;
		}
		td {
			padding: 10px;
		}
		input {
			width: 93px;
		}
		input[type=button] {
			width: 100px;
		}
	</style>
</head>
<body>
	<h3>Условие задачи</h3>
	<p id="task">
		Пустыню по прямой дороге пересекает машина.
		Длина дороги S = <b id="st">1000</b> км.
		Обьем бензобака - V = <b id="vt">500</b> литров.
		На каждый километр машина тратит l = <b id="lt">1</b> литра бензина.
		Машина может делать неограниченные запасы бензина в любых местах, перевозить бензин только в бензобаке.
		Какое <b>минимальное целое количество бензобаков</b> потребуется для пересечения пустыни?
	</p>
	<table><p>
		<tr>
			<td>Длина пути</td>
			<td><input type="number" id="s" value="1000"></td>
		</tr>
		<tr>
			<td>Расход топлива <br> на единицу пути</td>
			<td><input type="number" id="l" value="1"></td>
		</tr>
		<tr>
			<td>Объём бензобака</td>
			<td><input type="number" id="v" value="500"></td>
		</tr>
		<tr>
			<td colspan="2" align="right">
				<input type="button" onclick="solution();" value="Решить">
			</td>
		</tr>
	</p></table>
	<h3 id="answer">
	</h3>
	<p>
		Разбор задачи на 
		<a href="https://ru.wikipedia.org/wiki/%D0%97%D0%B0%D0%B4%D0%B0%D1%87%D0%B0_%D0%BE_%D0%B4%D0%B6%D0%B8%D0%BF%D0%B5" target="_blank">Wiki</a>
		<br>
		<a href="https://github.com/Arsen0105/Desert-Crossing-Problem/blob/main/test_2.py" target="_blank">Python Код</a>
		для решения
	</p>
</body>
</html>
